<!DOCTYPE html>
<!--[if IE 8 ]><html class="no-js oldie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <!--- basic page needs ================================================== -->
    <meta charset="utf-8">
    <title>Quiz AI</title>
    <meta name="description" content="">  
    <meta name="author" content="">
    <!-- mobile specific metas ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- CSS ================================================== -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/vendor.css">  
    <link rel="stylesheet" href="css/main.css">  
    <!-- script ================================================== -->
    <script src="js/modernizr.js"></script>
    <script src="js/pace.min.js"></script>
    <!-- favicons ================================================== -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        img {
            width: 300px;
            height: 300px;
            margin: 10px;
            cursor: pointer;
        }

        #timer-container {
            width: 100%;
            height: 20px;
            background-color: #ddd;
            margin-top: 10px;
            position: relative;
        }

        #timer-bar {
            height: 100%;
            width: 100%;
            background-color: #4CAF50;
            transition: width 1s linear;
        }
    </style>
</head>

<body id="top">
    <!-- about ================================================== -->
    <section id="about">
        <div class="row about-wrap">
            <div class="col-full">
                <div class="about-profile-bg"></div>
                <div class="intro">
                    <h3 class="animate-this">Quiz</h3>
                    <div id="game-container">
                        <h1>Which of these images is real?</h1>
                        <p><span id="question-counter">1</span> of <span id="total-questions">8</span></p>
                        <div id="image-container"></div>
                        <div id="timer-container">
                            <div id="timer-bar"></div>
                        </div>
                        <script>
                            const questions = [
                                { images: ['./images/1/1.jpg', './images/1/2.png', './images/1/3.png', './images/1/4.png'], correctIndex: 2 },
                                { images: ['./images/2/1.jpg', './images/2/2.png', './images/2/3.png', './images/2/4.png'], correctIndex: 2 },
                                { images: ['./images/3/1.jpg', './images/3/2.jpg', './images/3/3.jpg', './images/3/4.jpg'], correctIndex: 2 },
								{ images: ['./images/4/8407c227b32c3e85a7e44865526e1d9d.jpg', './images/4/2.jpeg', './images/4/3.png', './images/4/4.png'], correctIndex: 2 },
								{ images: ['./images/5/1.jpg', './images/5/2.jpg', './images/5/3.png', './images/5/4.png'], correctIndex: 2 },
								{ images: ['./images/6/1.jpg', './images/6/2.jpg', './images/6/3.jpg', './images/6/4.jpg'], correctIndex: 2 },
								{ images: ['./images/7/1.jpg', './images/7/2.png', './images/7/3.png', './images/7/4.png'], correctIndex: 2 },
								{ images: ['./images/8/1.jpeg', './images/8/2.jpeg', './images/8/3.jpg', './images/8/4.jpg'], correctIndex: 2 },
                                
                            ];

                            let currentQuestionIndex;
                            let lives = 4;
                            let timer = 30;
                            let timerInterval;

                            function startGame() {
                                currentQuestionIndex = 0;
                                lives = 4;
                                timer = 30;
                                timerInterval = setInterval(updateTimer, 1000);
                                showNextQuestion();
                            }

                            function showNextQuestion() {
                                timer = 30; // Resetta il timer
                                const imageContainer = document.getElementById('image-container');
                                imageContainer.innerHTML = '';
                                questions[currentQuestionIndex].images.forEach((image, index) => {
                                    const imgElement = document.createElement('img');
                                    imgElement.src = image;
                                    imgElement.onclick = () => checkAnswer(index);
                                    imageContainer.appendChild(imgElement);
                                });

                                document.getElementById('question-counter').textContent = currentQuestionIndex + 1;
                                document.getElementById('total-questions').textContent = questions.length;
                            }

                            function checkAnswer(selectedIndex) {
                                currentQuestionIndex++;
                                    if (currentQuestionIndex === questions.length) {
                                        endGame(true);
                                    } else {
                                        showNextQuestion();
                                    }
                            }

                            function updateTimer() {
                                timer--;
                                document.getElementById('timer').textContent = timer;
                                const timerBar = document.getElementById('timer-bar');
                                timerBar.style.width = (timer / 30) * 100 + '%';
                                if (timer === 0) {
                                    timer = 30;
                                }
                            }

                            function endGame(isWin) {
                                window.location.href = "./end.html";
                            }

                            startGame();
                        </script>
                        <p style="display: none">Tempo: <span id="timer">30</span> secondi</p>
                    </div>
                </div>   
            </div> <!-- end col-full  -->
        </div> <!-- end about-wrap  -->
    </section> <!-- end about -->
    <!-- Java Script ================================================== --> 
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
